import{_ as X,J as Z,p as ee,e as m,i as te,q as oe,f as le,o as d,c as u,b as y,a as t,$ as ae,t as s,g as se,u as re,a0 as ne,l as i,A as v,B as b,n as h,I as de,M as ue}from"./app-D8LHgVkI.js";import{_ as ie}from"./AuthPageheader-DvZyGfVD.js";const pe={class:"p-3 md:p-4 xl:p-6"},me={class:"max-w-[920px] mx-auto bg-white rounded-xl md:rounded-2xl p-3 md:p-4 xl:p-6"},ce={class:"p-4 bg-slate-50 rounded-xl border border-slate-100"},ve={class:"text-primary text-sm font-medium"},he={class:"flex flex-col gap-2 justify-center items-center"},fe=["src"],_e={class:"flex gap-2"},be={for:"upload",class:"text-white text-sm font-normal px-2 py-1 md:px-3 md:py-2 bg-slate-800 rounded-md cursor-pointer"},ge={class:"p-3 bg-white rounded-xl border border-slate-100 mt-3"},ye={class:"grid grid-cols-1 lg:grid-cols-2 gap-4"},xe={for:"name",class:"form-label"},$e=["placeholder"],we={key:0,class:"text-red-500 text-sm"},Pe={for:"name",class:"form-label mb-2"},Ce={key:0,class:"text-red-500 text-sm"},Ve={for:"phone",class:"form-label"},ke={class:"flex"},Me={class:"text-slate-700 text-base font-normal leading-normal bg-slate-100 p-2 border-y border-l rounded-tl-lg rounded-bl-lg flex items-center"},Ue=["placeholder"],Ne={key:0,class:"text-red-500 text-sm"},Be={for:"gender",class:"form-label bg-transparent"},De={value:"",disabled:"",selected:""},Se={value:"male"},Ee={value:"female"},Ae={value:"other"},Te={key:0,class:"text-red-500 text-sm"},je={for:"date",class:"form-label"},Fe={key:0,class:"text-red-500 text-sm"},ze={key:0,class:"text-red-500 text-sm"},Ie={type:"submit",class:"bg-primary px-4 md:px-6 py-2 md:py-4 rounded-lg :md:rounded-[10px] text-white mt-6"},Le={__name:"MyProfile",setup(Oe){var $,w,P,C,V,k,M,U;const x=Z(),r=ee(),o=m(null),f=m(null),_=m(!1),J=()=>{var e;f.value=(e=r.user)==null?void 0:e.profile_photo,_.value=!1},Y=e=>{f.value=URL.createObjectURL(e.target.files[0]),l.value.profile_photo=e.target.files[0],_.value=!0},l=m({name:($=r.user)==null?void 0:$.name,phone:(w=r.user)==null?void 0:w.phone,gender:(P=r.user)!=null&&P.gender?(C=r.user)==null?void 0:C.gender:"",date_of_birth:(V=r.user)==null?void 0:V.date_of_birth,email:(k=r.user)==null?void 0:k.email,profile_photo:null,phone_code:(M=r.user)==null?void 0:M.phone_code,country:(U=r.user)==null?void 0:U.country}),g=m([]),H=m(!1);te(()=>{var e,a;r.user&&(f.value=(e=r.user)==null?void 0:e.profile_photo),window.scrollTo(0,0),((a=r.user)==null?void 0:a.email)==="user@readyecommerce.com"&&(H.value=!0),K()}),oe(()=>l.value.country,e=>{const a=g.value.find(p=>p.name==e);l.value.phone_code=a==null?void 0:a.phone_code});const K=()=>{axios.get("/countries").then(e=>{g.value=e.data.data.countries})},Q={component:ue,props:{title:"Profile Updated",message:"Your profile updated successfully"}},W=()=>{const e=new FormData;e.append("name",l.value.name),e.append("phone",l.value.phone),e.append("gender",l.value.gender?l.value.gender:""),e.append("date_of_birth",l.value.date_of_birth?l.value.date_of_birth:""),e.append("email",l.value.email?l.value.email:""),e.append("country",l.value.country?l.value.country:""),e.append("phone_code",l.value.phone_code?l.value.phone_code:""),l.value.profile_photo&&e.append("profile_photo",l.value.profile_photo),axios.post("/update-profile",e,{headers:{Authorization:r.token}}).then(a=>{r.user=a.data.data.user,_.value=!1,x(Q,{type:"default",hideProgressBar:!0,icon:!1,position:"bottom-left",toastClassName:"vue-toastification-alert",timeout:2e3}),o.value={}}).catch(a=>{var p,c;o.value=a.response.data.errors,(p=o.value)!=null&&p.profile_photo&&x.error((c=o.value)==null?void 0:c.profile_photo[0],{position:"bottom-left"})})};return(e,a)=>{var c,N,B,D,S,E,A,T,j,F,z,I,L,O,R,q,G;const p=le("v-select");return d(),u("div",null,[y(ie,{title:e.$t("My Profile")},null,8,["title"]),t("div",pe,[t("form",{onSubmit:a[6]||(a[6]=ae(n=>W(),["prevent"]))},[t("div",me,[t("div",ce,[t("div",ve,s(e.$t("Profile Picture")),1),t("div",he,[t("img",{src:f.value,alt:"",class:"w-24 h-24 md:w-36 md:h-36 bg-white rounded-full object-cover"},null,8,fe),t("div",_e,[t("label",be,[t("input",{type:"file",id:"upload",class:"hidden",onChange:Y},null,32),se(" "+s(e.$t("Change Photo")),1)]),_.value?(d(),u("button",{key:0,class:"px-2 py-1 md:px-3 md:py-2 bg-red-500 text-white rounded-md",onClick:J},[y(re(ne),{class:"w-5 h-5"})])):i("",!0)])])]),t("div",ge,[t("div",ye,[t("div",null,[t("label",xe,s(e.$t("Name")),1),v(t("input",{type:"text",id:"name","onUpdate:modelValue":a[0]||(a[0]=n=>l.value.name=n),placeholder:e.$t("Enter name"),class:h(["form-input",o.value&&((c=o.value)!=null&&c.name)?"border-red-500":"border-slate-200"])},null,10,$e),[[b,l.value.name]]),o.value&&((N=o.value)!=null&&N.name)?(d(),u("span",we,s((B=o.value)==null?void 0:B.name[0]),1)):i("",!0)]),t("div",null,[t("label",Pe,s(e.$t("Country")),1),y(p,{options:g.value,label:"name",reduce:n=>n.name,modelValue:l.value.country,"onUpdate:modelValue":a[1]||(a[1]=n=>l.value.country=n),placeholder:e.$t("Select Country")},null,8,["options","reduce","modelValue","placeholder"]),o.value&&((D=o.value)!=null&&D.country)?(d(),u("span",Ce,s((S=o.value)==null?void 0:S.country[0]),1)):i("",!0)]),t("div",null,[t("label",Ve,s(e.$t("Mobile Number")),1),t("div",ke,[t("span",Me," +"+s(l.value.phone_code||"00"),1),v(t("input",{type:"text","onUpdate:modelValue":a[2]||(a[2]=n=>l.value.phone=n),placeholder:e.$t("Enter phone number"),class:h(["text-base font-normal w-full p-3 placeholder:text-slate-400 rounded-tr-lg rounded-br-lg border focus:border-primary outline-none",(E=o.value)!=null&&E.phone?"border-red-500":"border-slate-200"])},null,10,Ue),[[b,l.value.phone]])]),o.value&&((A=o.value)!=null&&A.phone)?(d(),u("span",Ne,s((T=o.value)==null?void 0:T.phone[0]),1)):i("",!0)]),t("div",null,[t("label",Be,s(e.$t("Gender")),1),v(t("select",{name:"gender",id:"gender","onUpdate:modelValue":a[3]||(a[3]=n=>l.value.gender=n),class:h(["form-input bg-transparent h-[52px]",o.value&&((j=o.value)!=null&&j.gender)?"border-red-500":"border-slate-200"])},[t("option",De,s(e.$t("Select a gender")),1),t("option",Se,s(e.$t("Male")),1),t("option",Ee,s(e.$t("Female")),1),t("option",Ae,s(e.$t("Other")),1)],2),[[de,l.value.gender]]),o.value&&((F=o.value)!=null&&F.gender)?(d(),u("span",Te,s((z=o.value)==null?void 0:z.gender[0]),1)):i("",!0)]),t("div",null,[t("label",je,s(e.$t("Date of Birth")),1),v(t("input",{type:"date",id:"date","onUpdate:modelValue":a[4]||(a[4]=n=>l.value.date_of_birth=n),class:h(["form-input",o.value&&((I=o.value)!=null&&I.date_of_birth)?"border-red-500":"border-slate-200"])},null,2),[[b,l.value.date_of_birth]]),o.value&&((L=o.value)!=null&&L.date_of_birth)?(d(),u("span",Fe,s((O=o.value)==null?void 0:O.date_of_birth[0]),1)):i("",!0)]),t("div",null,[a[7]||(a[7]=t("label",{for:"email",class:"form-label"},"Email Address",-1)),v(t("input",{type:"email",id:"email","onUpdate:modelValue":a[5]||(a[5]=n=>l.value.email=n),class:h(["form-input",o.value&&((R=o.value)!=null&&R.email)?"border-red-500":"border-slate-200"]),placeholder:"Enter email"},null,2),[[b,l.value.email]]),o.value&&((q=o.value)!=null&&q.email)?(d(),u("span",ze,s((G=o.value)==null?void 0:G.email[0]),1)):i("",!0)])]),t("button",Ie,s(e.$t("Update Profile")),1)])])],32)])])}}},Ge=X(Le,[["__scopeId","data-v-0c606723"]]);export{Ge as default};
